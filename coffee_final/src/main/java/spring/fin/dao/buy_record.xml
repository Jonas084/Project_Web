<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="spring.fin.model.BuyRecordDTO"> 
	
 <insert id="insert_coffeerecord" parameterType="java.util.Map">
    insert into buy_record values (buy_record_SEQ.nextVal, #{userID},#{coffee_number},0,#{buy_price},#{buy_count},sysdate)
  	</insert>
  <select id="buy_count" parameterType="java.util.Map" resultType="int">
	  select count(*) from buy_record where userID=#{userID} and coffee_number=#{coffee_number}
	</select>	
  	<select id="buy_record_get" parameterType="String" resultType="buy_record">
	  select * from buy_record where userID=#{id} order by buydate desc
	</select>	
</mapper>






